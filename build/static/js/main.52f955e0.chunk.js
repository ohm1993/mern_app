(this["webpackJsonpmern-mentor-app"]=this["webpackJsonpmern-mentor-app"]||[]).push([[0],{31:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},34:function(e,t,a){e.exports=a(65)},39:function(e,t,a){},41:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(30),l=a.n(o),c=(a(39),a(31)),s=a.n(c),m=a(6),i=a(14),u=(a(40),a(41),a(9)),h=a(10),p=a(13),g=a(11),d=a(1),b=a(12),E=a(4),v=a.n(E),f=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(g.a)(t).call(this,e))).onChangeMentorName=a.onChangeMentorName.bind(Object(d.a)(a)),a.onChangeMentorEmail=a.onChangeMentorEmail.bind(Object(d.a)(a)),a.onChangeMentorContact=a.onChangeMentorContact.bind(Object(d.a)(a)),a.onChangeMentorCompany=a.onChangeMentorCompany.bind(Object(d.a)(a)),a.onSubmit=a.onSubmit.bind(Object(d.a)(a)),a.state={mentor_name:"",mentor_email:"",mentor_contact:"",mentor_company:""},a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"onChangeMentorName",value:function(e){this.setState({mentor_name:e.target.value})}},{key:"onChangeMentorEmail",value:function(e){this.setState({mentor_email:e.target.value})}},{key:"onChangeMentorContact",value:function(e){this.setState({mentor_contact:e.target.value})}},{key:"onChangeMentorCompany",value:function(e){this.setState({mentor_company:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a={mentor_name:this.state.mentor_name,mentor_email:this.state.mentor_email,mentor_contact:this.state.mentor_contact,mentor_company:this.state.mentor_company};this.state.mentor_name&&this.state.mentor_email&&this.state.mentor_contact&&this.state.mentor_company?10==a.mentor_contact.length?v.a.post("/api/mentor/register",a).then((function(e){200==e.status&&(alert("mentor created successfully"),t.props.history.push("/"))})).catch((function(e){alert("email already exist")})):alert("contact length must be 10 digits"):alert("fill all the details")}},{key:"render",value:function(){return r.a.createElement("div",{style:{marginTop:10}},r.a.createElement("h3",null,"Create New Mentor"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Name: "),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.mentor_name,onChange:this.onChangeMentorName})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email: "),r.a.createElement("input",{type:"email",className:"form-control",value:this.state.mentor_email,onChange:this.onChangeMentorEmail})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Contact: "),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.mentor_contact,onChange:this.onChangeMentorContact})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Company: "),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.mentor_company,onChange:this.onChangeMentorCompany})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"Create Todo",className:"btn btn-primary"}))))}}]),t}(n.Component),k=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(g.a)(t).call(this,e))).onChangeMentorName=a.onChangeMentorName.bind(Object(d.a)(a)),a.onChangeMentorEmail=a.onChangeMentorEmail.bind(Object(d.a)(a)),a.onChangeMentorContact=a.onChangeMentorContact.bind(Object(d.a)(a)),a.onChangeMentorCompany=a.onChangeMentorCompany.bind(Object(d.a)(a)),a.updateMentor=a.updateMentor.bind(Object(d.a)(a)),a.state={mentor:{},mentor_name:"",mentor_email:"",mentor_contact:"",mentor_company:""},a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"onChangeMentorName",value:function(e){this.setState({mentor_name:e.target.value})}},{key:"onChangeMentorEmail",value:function(e){this.setState({mentor_email:e.target.value})}},{key:"onChangeMentorContact",value:function(e){this.setState({mentor_contact:e.target.value})}},{key:"onChangeMentorCompany",value:function(e){this.setState({mentor_company:e.target.value})}},{key:"componentDidMount",value:function(){var e=this;this.props.match.params.id&&v.a.get("/api/mentor/"+this.props.match.params.id).then((function(t){e.setState({mentor_company:t.data.mentor_company,mentor_name:t.data.mentor_name,mentor_email:t.data.mentor_email,mentor_contact:t.data.mentor_contact})})).catch((function(e){console.log(e)}))}},{key:"updateMentor",value:function(e){var t=this;e.preventDefault();var a={mentor_name:this.state.mentor_name,mentor_email:this.state.mentor_email,mentor_contact:this.state.mentor_contact,mentor_company:this.state.mentor_company};v.a.put("/api/mentor/"+this.props.match.params.id,a).then((function(e){200==e.status&&(alert("Mentor updated successfully"),t.props.history.push("/"))})).catch((function(e){alert("mentor not updated properly")}))}},{key:"render",value:function(){return r.a.createElement("div",{style:{marginTop:10}},r.a.createElement("h3",null,"Create New Mentor"),r.a.createElement("form",{onSubmit:this.updateMentor},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Name: "),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.mentor_name,onChange:this.onChangeMentorName})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email: "),r.a.createElement("input",{type:"email",className:"form-control",value:this.state.mentor_email,onChange:this.onChangeMentorEmail})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Contact: "),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.mentor_contact,onChange:this.onChangeMentorContact})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Company: "),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.mentor_company,onChange:this.onChangeMentorCompany})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"Update",className:"btn btn-primary"}))))}}]),t}(n.Component),y=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(g.a)(t).call(this,e))).deleteMentor=a.deleteMentor.bind(Object(d.a)(a)),a.state={mentors:[],pager:{}},a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.loadPage()}},{key:"loadPage",value:function(){var e=this,t=new URLSearchParams(window.location.search),a=parseInt(t.get("page"))||1;a!==this.state.pager.currentPage?v.a.get("/api/mentor/getall?page=".concat(a)).then((function(t){e.setState({mentors:t.data.mentors,pager:t.data.pager})})):v.a.get("/api/mentor/getall").then((function(t){e.setState({mentors:t.data.mentors,pager:t.data.pager})}))}},{key:"componentDidUpdate",value:function(){this.loadPage()}},{key:"deleteMentor",value:function(e){var t=this;v.a.delete("/api/mentor/"+e).then((function(e){200==e.status&&t.loadPage()})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h3",{align:"center"},"Mentors List"),r.a.createElement("table",{className:"table table-striped",style:{marginTop:20}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Id"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Contact"),r.a.createElement("th",null,"Company"))),r.a.createElement("tbody",null,this.state.mentors.map((function(t,a){return r.a.createElement("tr",null,r.a.createElement("td",null,a+1),r.a.createElement("td",null,t.mentor_name),r.a.createElement("td",null,t.mentor_email),r.a.createElement("td",null,t.mentor_contact),r.a.createElement("td",null,t.mentor_company),r.a.createElement("td",null,r.a.createElement(m.b,{to:"/edit/".concat(t._id),class:"btn btn-primary"},"Edit")),r.a.createElement("td",null,r.a.createElement("button",{class:"btn btn-danger",onClick:function(){return e.deleteMentor(t._id)}},"Delete")),r.a.createElement("td",null,r.a.createElement(m.b,{to:"/task/".concat(t._id),class:"btn btn-info"},"Tasks")))})))),r.a.createElement("div",{className:"card-footer pb-0 pt-3"},this.state.pager.pages&&this.state.pager.pages.length&&r.a.createElement("ul",{className:"pagination"},r.a.createElement("li",{className:"page-item first-item ".concat(1===this.state.pager.currentPage?"disabled":"")},r.a.createElement(m.b,{to:{search:"?page=1"},className:"page-link"},"First")),r.a.createElement("li",{className:"page-item previous-item ".concat(1===this.state.pager.currentPage?"disabled":"")},r.a.createElement(m.b,{to:{search:"?page=".concat(this.state.pager.currentPage-1)},className:"page-link"},"Previous")),this.state.pager.pages.map((function(t){return r.a.createElement("li",{key:t,className:"page-item number-item ".concat(e.state.pager.currentPage===t?"active":"")},r.a.createElement(m.b,{to:{search:"?page=".concat(t)},className:"page-link"},t))})),r.a.createElement("li",{className:"page-item next-item ".concat(this.state.pager.currentPage===this.state.pager.totalPages?"disabled":"")},r.a.createElement(m.b,{to:{search:"?page=".concat(this.state.pager.currentPage+1)},className:"page-link"},"Next")),r.a.createElement("li",{className:"page-item last-item ".concat(this.state.pager.currentPage===this.state.pager.totalPages?"disabled":"")},r.a.createElement(m.b,{to:{search:"?page=".concat(this.state.pager.totalPages)},className:"page-link"},"Last")))))}}]),t}(n.Component),C=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(g.a)(t).call(this,e))).onChangeTaskName=a.onChangeTaskName.bind(Object(d.a)(a)),a.onChangeTaskDescription=a.onChangeTaskDescription.bind(Object(d.a)(a)),a.deleteTask=a.deleteTask.bind(Object(d.a)(a)),a.onSubmit=a.onSubmit.bind(Object(d.a)(a)),a.state={tasks:[],task_name:"",task_description:""},a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"onChangeTaskName",value:function(e){this.setState({task_name:e.target.value})}},{key:"onChangeTaskDescription",value:function(e){this.setState({task_description:e.target.value})}},{key:"componentDidMount",value:function(){this.loadPage()}},{key:"loadPage",value:function(){var e=this;v.a.get("/api/task/"+this.props.match.params.id).then((function(t){e.setState({tasks:t.data})}))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a={task_mentor_id:this.props.match.params.id,task_name:this.state.task_name,task_description:this.state.task_description};v.a.post("/api/task/create",a).then((function(e){200==e.status&&(alert("Task added successfully"),t.props.history.push("/"))})).catch((function(e){console.log("error is",e)})),console.log("new task value is",a)}},{key:"deleteTask",value:function(e){var t=this;v.a.delete("/api/task/"+e).then((function(e){200==e.status&&t.loadPage()})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h3",{align:"center"},"Task List"),r.a.createElement("form",{className:"row",onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group col-md-3"},r.a.createElement("label",null,"Task Name: "),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.task_name,onChange:this.onChangeTaskName})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",null,"Task Description: "),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.task_description,onChange:this.onChangeTaskDescription})),r.a.createElement("div",{className:"form-group col-md-2 addbutton"},r.a.createElement("button",{className:"btn btn-primary",disabled:!this.state.task_name&&!this.state.task_description},"Add Task #"+(this.state.tasks.length+1)))),this.state.tasks.length>0?r.a.createElement("table",{className:"table table-striped",style:{marginTop:20}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Id"),r.a.createElement("th",null,"Task Name"),r.a.createElement("th",null,"Task Description"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,this.state.tasks.map((function(t,a){return r.a.createElement("tr",null,r.a.createElement("td",null,a+1),r.a.createElement("td",null,t.task_name),r.a.createElement("td",null,t.task_description),r.a.createElement("td",null,r.a.createElement("button",{class:"btn btn-danger btn-xs",onClick:function(){return e.deleteTask(t._id)}},"Delete")))})))):r.a.createElement("div",{class:"alert alert-danger"},"No Tasks"))}}]),t}(n.Component);var _=function(){return r.a.createElement(m.a,null,r.a.createElement("div",{className:"container"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("a",{className:"navbar-brand",href:"https://codingthesmartway.com",target:"_blank"},r.a.createElement("img",{src:s.a,width:"30",height:"30",alt:"CodingTheSmartWay.com"})),r.a.createElement(m.b,{to:"/",className:"navbar-brand"},"Mentor App"),r.a.createElement("div",{className:"collpase navbar-collapse"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"navbar-item"},r.a.createElement(m.b,{to:"/",className:"nav-link"},"Mentors")),r.a.createElement("li",{className:"navbar-item"},r.a.createElement(m.b,{to:"/create",className:"nav-link"},"Create Mentor"))))),r.a.createElement("br",null),r.a.createElement(i.a,{path:"/",exact:!0,component:y}),r.a.createElement(i.a,{path:"/edit/:id",component:k}),r.a.createElement(i.a,{path:"/create",component:f}),r.a.createElement(i.a,{path:"/task/:id",component:C})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[34,1,2]]]);
//# sourceMappingURL=main.52f955e0.chunk.js.map